(this["webpackJsonpmeal-selector"]=this["webpackJsonpmeal-selector"]||[]).push([[0],{11:function(e,t,n){e.exports={MealCard:"MealCard_MealCard__26Yvk",Selected:"MealCard_Selected__2PPtQ",Hidden:"MealCard_Hidden__1pzE-",Title:"MealCard_Title__R-MOE",Add:"MealCard_Add__24PAG",RMHolder:"MealCard_RMHolder__Bsk2Y",RemoveMeal:"MealCard_RemoveMeal__3eLZ7"}},13:function(e,t,n){e.exports={Selector:"Selector_Selector__J2pJn",Button:"Selector_Button__3iUmT",AuthButton:"Selector_AuthButton__1ratr"}},16:function(e,t,n){e.exports={Auth:"Auth_Auth__1GNAK"}},30:function(e,t,n){e.exports={Content:"Layout_Content__PrDi6"}},31:function(e,t,n){e.exports={RemoveButton:"RemoveButton_RemoveButton__1uEds"}},32:function(e,t,n){e.exports={Button:"Button_Button__3gFiX"}},33:function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},34:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},35:function(e,t,n){e.exports={ShoppingList:"ShoppingList_ShoppingList__1dlPf"}},36:function(e,t,n){e.exports={loader:"Spinner_loader__fTuX5",load7:"Spinner_load7__3lEXz"}},37:function(e,t,n){e.exports={LoginModal:"AuthModal_LoginModal__31OlZ"}},50:function(e,t,n){},51:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),o=n.n(a),i=n(14),s=n.n(i),c=n(5),l=n(10),d=(n(50),n(3)),u=n(4),h=n(7),p=n(6),g=(n(51),function(e){return e.children}),m=n(30),j=n.n(m),f=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsxs)(g,{children:[Object(r.jsx)("main",{className:j.a.Content,children:this.props.children}),Object(r.jsxs)("footer",{children:[Object(r.jsx)("hr",{style:{width:"90%"}}),Object(r.jsxs)("p",{children:[Object(r.jsx)("a",{href:"https://github.com/georgeharvey3",children:"George Harvey"})," 2020"]})]})]})}}]),n}(a.Component),b=n(2),O=n(15),v=n.n(O),S=v.a.create({baseURL:"https://meal-selector-525ee-default-rtdb.firebaseio.com/"}),M="ADD_MEAL_SUCCESS",_="ADD_MEAL_LOCAL",A="REMOVE_MEAL_SUCCESS",I="REMOVE_MEAL_LOCAL",y="ADD_INGREDIENT_SUCCESS",x="ADD_INGREDIENT_LOCAL",k="REMOVE_INGREDIENT_SUCCESS",C="REMOVE_INGREDIENT_LOCAL",E="SELECT_MEAL",N="DESELECT_MEAL",L="SET_MEALS",w="FETCH_MEALS_START",T="FETCH_MEALS_SUCCESS",D="FETCH_MEALS_FAILED",R="FETCH_MEALS_LOCAL",F="AUTH_START",B="AUTH_SUCCESS",U="AUTH_FAIL",P="AUTH_LOGOUT",H="SET_AUTH_REDIRECT_PATH",J=function(e,t){return function(n){n({type:"ADD_MEAL_START"}),S.post("/meals.json?auth="+t,e).then((function(t){console.log(t),e.id=t.data.name,n(function(e){return{type:M,meal:e}}(e))})).catch((function(e){n(function(e){return{type:"ADD_MEAL_FAILED",error:e}}(e))}))}},G=function(e,t){return function(n){n({type:"REMOVE_MEAL_START"}),S.delete("/meals/"+e+".json?auth="+t).then((function(t){n(function(e){return{type:A,mealId:e}}(e))})).catch((function(e){n(function(e){return{type:"REMOVE_MEAL_FAILED",error:e}}(e))}))}},K=function(e,t,n){return function(r){r({type:"ADD_INGREDIENT_START"}),S.post("/meals/"+e+"/ingredients.json?auth="+n,t).then((function(n){t.id=n.data.name,r(function(e,t){return{type:y,mealId:e,ingredient:t}}(e,t))})).catch((function(e){console.log(e),r(function(e){return{type:"ADD_INGREDIENT_FAILED",error:e}}(e))}))}},V=function(e,t,n){return function(r){r({type:"REMOVE_INGREDIENT_START"}),S.delete("/meals/"+e+"/ingredients/"+t+".json?auth="+n).then((function(n){r(function(e,t){return{type:k,mealId:e,ingredientId:t}}(e,t))})).catch((function(e){r(function(e){return{type:"REMOVE_INGREDIENT_FAILED",error:e}}(e))}))}},Y=function(e,t){return function(n){n({type:w});var r="?auth="+e+'&orderBy="userId"&equalTo="'+t+'"';S.get("/meals.json"+r).then((function(e){var t=[];for(var r in e.data){var a=[];for(var o in e.data[r].ingredients)a.push(Object(b.a)(Object(b.a)({},e.data[r].ingredients[o]),{},{id:o}));t.push({id:r,name:e.data[r].name,ingredients:a})}n({type:T,meals:t})})).catch((function(e){console.log(e),n(function(e){return{type:D,error:e}}(e))}))}},z=function(e,t){return{type:B,token:e,userId:t}},W=function(){return{type:P}},X=function(e){return function(t){setTimeout((function(){t(W())}),1e3*e)}},Q=function(e,t,n){return function(r){r({type:F});var a={email:e,password:t,returnSecureToken:!0},o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCnbemvp5S8YOEwbdizrQFOaY6guuW7Q8M";n&&(o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCnbemvp5S8YOEwbdizrQFOaY6guuW7Q8M"),v.a.post(o,a).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationTime",t),localStorage.setItem("userId",e.data.localId),r(z(e.data.idToken,e.data.localId)),r(X(e.data.expiresIn))})).catch((function(e){var t;r((t=e.response.data.error,{type:U,error:t}))}))}},Z=n(31),q=n.n(Z),$=function(e){return Object(r.jsx)("button",{className:q.a.RemoveButton,onClick:e.clicked,children:e.children})},ee=n(32),te=n.n(ee),ne=function(e){return Object(r.jsx)("button",{className:te.a.Button,onClick:e.clicked,children:e.children})},re=n(11),ae=n.n(re),oe=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selected:!1,addingIngredient:!1,showIngredients:Boolean(e.props.new)},e.componentDidMount=function(){e.props.meal&&0===e.props.meal.ingredients.length&&e.setState({showIngredients:!0})},e.onAddIngredientClicked=function(){e.setState({addingIngredient:!0})},e.toggleShowIngredients=function(){e.setState((function(e){return{showIngredients:!e.showIngredients}}))},e.toggleSelectMeal=function(){e.props.new||(e.state.selected?e.props.onDeselectMeal(e.props.meal.name):e.props.onSelectMeal(e.props.meal.name),e.setState((function(e){return{selected:!e.selected}})))},e.onAddIngredientKeyPress=function(t){if("Enter"===t.key){e.setState({addingIngredient:!1});var n={ingredientName:t.target.value};e.props.isAuthenticated?e.props.onAddIngredient(e.props.meal.id,n,e.props.token):e.props.onAddIngredientLocal(e.props.meal.name,n)}},e.removeIngredientClicked=function(t){e.props.isAuthenticated?e.props.onRemoveIngredient(e.props.meal.id,t.ingredientName,e.props.token):e.props.onRemoveIngredientLocal(e.props.meal.name,t.ingredientName)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=[ae.a.MealCard];this.state.selected&&t.push(ae.a.Selected);var n,a=null;this.state.addingIngredient&&(a=Object(r.jsx)("input",{onKeyPress:this.onAddIngredientKeyPress,autoFocus:!0,onBlur:function(){e.setState({addingIngredient:!1})}}));var o=[];this.props.new?n=Object(r.jsx)("input",{onKeyPress:this.props.addMealKeyPress,autoFocus:!0}):(n=Object(r.jsxs)(g,{children:[Object(r.jsx)("h3",{children:this.props.meal.name}),Object(r.jsx)(ne,{clicked:this.toggleShowIngredients,children:this.state.showIngredients?"Hide Ingredients":"Show Ingredients"})]}),this.props.meal.ingredients&&this.props.meal.ingredients.length>0&&(o=this.props.meal.ingredients.map((function(t,n){return Object(r.jsxs)("li",{children:[Object(r.jsx)($,{className:ae.a.Remove,clicked:function(){return e.removeIngredientClicked(t)},children:"X"}),Object(r.jsx)("p",{children:t.ingredientName})]},n)}))));var i=Object(r.jsxs)(g,{children:[Object(r.jsx)("hr",{}),Object(r.jsx)("ul",{children:o}),a,Object(r.jsx)("button",{className:ae.a.Add,onClick:this.onAddIngredientClicked,children:"+"})]});this.state.showIngredients||(i=null);var s=this.state.selected?"rgb(112, 112, 112)":"rgb(53, 110, 53)",c="1";return this.props.new&&(s="rgb(112, 112, 112)",c=.5),Object(r.jsxs)("div",{className:t.join(" "),children:[Object(r.jsxs)("div",{className:ae.a.RMHolder,children:[Object(r.jsx)("button",{className:s,style:{backgroundColor:s,opacity:c},onClick:this.toggleSelectMeal,children:this.state.selected?"Deselect":"Select"}),Object(r.jsx)("button",{style:{backgroundColor:"rgb(180, 66, 66)"},onClick:this.props.removeMealClicked,children:"Delete"})]}),Object(r.jsx)("div",{className:ae.a.Title,children:n}),i]})}}]),n}(a.Component),ie=Object(c.b)((function(e){return{selectedMeals:e.meals.selectedMeals,token:e.auth.token,isAuthenticated:null!==e.auth.token}}),(function(e){return{onAddIngredient:function(t,n,r){return e(K(t,n,r))},onAddIngredientLocal:function(t,n){return e(function(e,t){return{type:x,mealName:e,ingredient:t}}(t,n))},onRemoveIngredient:function(t,n,r){return e(V(t,n,r))},onRemoveIngredientLocal:function(t,n){return e(function(e,t){return{type:C,mealName:e,ingredientName:t}}(t,n))},onSelectMeal:function(t){return e(function(e){return{type:E,mealName:e}}(t))},onDeselectMeal:function(t){return e(function(e){return{type:N,mealName:e}}(t))}}}))(oe),se=n(33),ce=n.n(se),le=n(34),de=n.n(le),ue=function(e){return e.show?Object(r.jsx)("div",{className:de.a.Backdrop,onClick:e.clicked}):null},he=function(e){return Object(r.jsxs)(g,{children:[Object(r.jsx)(ue,{show:e.show,clicked:e.modalClosed}),Object(r.jsx)("div",{className:ce.a.Modal,style:{transform:e.show?"translateY(0)":"translateY(-100vh)",display:e.show?"block":"none",opactiy:e.show?"1":"0"},children:e.children})]})},pe=n(35),ge=n.n(pe),me=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).getIngredients=function(e){for(var t={},n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.ingredients.length;a++)r.ingredients[a].ingredientName in t?t[r.ingredients[a].ingredientName]+=1:t[r.ingredients[a].ingredientName]=1;return t},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.getIngredients(this.props.selectedMeals);return Object(r.jsxs)("div",{className:ge.a.ShoppingList,children:[Object(r.jsx)("h3",{children:"Your Shopping List:"}),Object(r.jsx)("ul",{children:Object.keys(e).map((function(t){var n="";if(e[t]>1){n+=" ";for(var a=0;a<e[t];a++)n+="*"}return Object(r.jsx)("li",{children:Object(r.jsx)("p",{children:t+n})},t)}))})]})}}]),n}(a.Component),je=Object(c.b)((function(e){return{selectedMeals:e.meals.selectedMeals}}))(me),fe=n(12),be=n(16),Oe=n.n(be),ve=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.email,e.state.password,!1)},e.onUpdateField=function(t,n){e.setState(Object(fe.a)({},n,t.target.value))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:Oe.a.Auth,children:[Object(r.jsx)("h3",{children:"Login"}),this.props.errorMessage,Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{id:"loginInput",placeholder:"Email",onChange:function(t){return e.onUpdateField(t,"email")},autoFocus:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",placeholder:"Password",onChange:function(t){return e.onUpdateField(t,"password")}}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:this.submitHandler,children:"Sign In"})]}),Object(r.jsxs)("p",{children:["Don't have an account? ",Object(r.jsx)("span",{onClick:this.props.toggleAuth,children:"Sign Up"})]})]})}}]),n}(a.Component),Se=Object(c.b)(null,(function(e){return{onAuth:function(t,n,r){return e(Q(t,n,r))}}}))(ve),Me=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.submitHandler=function(t){t.preventDefault(),e.props.onAuth(e.state.email,e.state.password,!0)},e.onUpdateField=function(t,n){e.setState(Object(fe.a)({},n,t.target.value))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:Oe.a.Auth,children:[Object(r.jsx)("h3",{children:"Register"}),this.props.errorMessage,Object(r.jsxs)("form",{children:[Object(r.jsx)("input",{placeholder:"Email",onChange:function(t){return e.onUpdateField(t,"email")},autoFocus:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",placeholder:"Password",onChange:function(t){return e.onUpdateField(t,"password")}}),Object(r.jsx)("br",{})]}),Object(r.jsx)("button",{onClick:this.submitHandler,children:"Sign Up"}),Object(r.jsxs)("p",{children:["Already have an account? ",Object(r.jsx)("span",{onClick:this.props.toggleAuth,children:"Login"})]})]})}}]),n}(a.Component),_e=Object(c.b)(null,(function(e){return{onAuth:function(t,n,r){return e(Q(t,n,r))}}}))(Me),Ae=n(36),Ie=n.n(Ae),ye=function(){return Object(r.jsx)("div",{className:Ie.a.loader})},xe=n(37),ke=n.n(xe),Ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={isRegister:!1},e.onToggleAuth=function(){e.setState((function(e){return{isRegister:!e.isRegister}}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=null;this.props.error&&(e=Object(r.jsx)("p",{children:this.props.error.message}));var t=this.state.isRegister?Object(r.jsx)(_e,{toggleAuth:this.onToggleAuth,errorMessage:e}):Object(r.jsx)(Se,{toggleAuth:this.onToggleAuth,errorMessage:e});return this.props.loading&&(t=Object(r.jsx)(ye,{})),Object(r.jsxs)(g,{children:[Object(r.jsx)(ue,{show:this.props.show,clicked:this.props.modalClosed}),Object(r.jsx)("div",{className:ke.a.LoginModal,style:{display:this.props.show?"block":"none",opactiy:this.props.show?"1":"0"},children:t})]})}}]),n}(a.Component),Ee=Object(c.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}))(Ce),Ne=n(13),Le=n.n(Ne),we=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={addingMeal:!1,showList:!1,showErrorModal:!1,errorMessage:"",showLogin:!1},e.componentDidMount=function(){e.props.isAuthenticated||e.props.onFetchMealsLocal()},e.onAddMealClicked=function(){e.setState({addingMeal:!0})},e.onAddMealKeyPress=function(t){if("Enter"===t.key){for(var n=!1,r=0;r<e.props.meals.length;r++)e.props.meals[r].name===t.target.value&&(n=!0);if(n)e.setState({showErrorModal:!0,errorMessage:"You already have a meal named ".concat(t.target.value,"!")});else{e.setState({addingMeal:!1});var a=t.target.value;if(e.props.isAuthenticated){var o={name:a,ingredients:[],userId:e.props.userId};e.props.onAddMeal(o,e.props.token)}else{var i={name:a,ingredients:[]};e.props.onAddMealLocal(i)}}}},e.onShowList=function(){e.setState({showList:!0})},e.onDismissModal=function(){e.setState({showList:!1,showErrorModal:!1})},e.onLoginClicked=function(){e.setState({showLogin:!0}),window.setTimeout((function(){document.getElementById("loginInput").focus()}),0)},e.onLogoutClicked=function(){e.props.onLogout(),e.props.onFetchMealsLocal()},e.onDismissLogin=function(){e.setState({showLogin:!1})},e.removeMealClicked=function(t){e.props.isAuthenticated?e.props.onRemoveMeal(t.id,e.props.token):e.props.onRemoveMealLocal(t.name)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.isAuthenticated!==this.props.isAuthenticated&&this.props.isAuthenticated&&(this.props.onFetchMeals(this.props.token,this.props.userId),this.setState({showLogin:!1}))}},{key:"render",value:function(){var e=this,t=null;return this.state.addingMeal&&(t=Object(r.jsx)(ie,{new:!0,addMealKeyPress:function(t){return e.onAddMealKeyPress(t)},removeMealClicked:function(){return e.setState({addingMeal:!1})}},0)),Object(r.jsxs)(g,{children:[Object(r.jsx)("h1",{style:{color:"rgb(53, 110, 53)"},children:"Meal Selector"}),this.props.isAuthenticated?Object(r.jsx)("button",{onClick:this.onLogoutClicked,className:Le.a.AuthButton,children:"Logout"}):Object(r.jsx)("button",{onClick:this.onLoginClicked,className:Le.a.AuthButton,children:"Login/Register"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{className:Le.a.Button,onClick:this.onAddMealClicked,children:"Add Meal"}),Object(r.jsx)("button",{className:Le.a.Button,onClick:this.onShowList,children:"See List"}),Object(r.jsxs)("div",{className:Le.a.Selector,children:[this.props.meals.map((function(t,n){return Object(r.jsx)(ie,{meal:t,removeMealClicked:function(){return e.removeMealClicked(t)}},n)})),t]}),Object(r.jsx)(he,{show:this.state.showList,modalClosed:this.onDismissModal,children:Object(r.jsx)(je,{})}),Object(r.jsx)(he,{show:this.state.showErrorModal,modalClosed:this.onDismissModal,children:Object(r.jsx)("p",{children:this.state.errorMessage})}),Object(r.jsx)(Ee,{show:this.state.showLogin,modalClosed:this.onDismissLogin})]})}}]),n}(a.Component),Te=Object(c.b)((function(e){return{meals:e.meals.meals,isAuthenticated:null!==e.auth.token,token:e.auth.token,mealError:e.meals.error,userId:e.auth.userId}}),(function(e){return{onAddMeal:function(t,n){return e(J(t,n))},onAddMealLocal:function(t){return e(function(e){return{type:_,meal:e}}(t))},onRemoveMeal:function(t,n){return e(G(t,n))},onRemoveMealLocal:function(t){return e(function(e){return{type:I,mealName:e}}(t))},onFetchMeals:function(t,n){return e(Y(t,n))},onFetchMealsLocal:function(){return e({type:R})},onLogout:function(){return e(W())}}}))(we),De=[{name:"curry",ingredients:["rice","spice"]},{name:"soup",ingredients:["vegetables","stock"]},{name:"burger",ingredients:["patty","bun"]},{name:"eggs",ingredients:["egg","bread"]},{name:"salad",ingredients:["lettuce","gin"]},{name:"pasta",ingredients:["pasata","tomato"]}],Re=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.onTryAutoSignin()},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(f,{children:Object(r.jsx)(Te,{meals:De})})})}}]),n}(a.Component),Fe=Object(c.b)(null,(function(e){return{onTryAutoSignin:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationTime"));if(n<=new Date)e(W());else{var r=localStorage.getItem("userId");e(z(t,r)),e(X((n.getTime()-(new Date).getTime())/1e3))}}else e(W())}))}}}))(Re),Be=n(38),Ue=n(9),Pe=function(e,t){return Object(b.a)(Object(b.a)({},e),t)},He=[{name:"Carbonara",ingredients:[{ingredientName:"Dijon Mustard"},{ingredientName:"Cashews"},{ingredientName:"Linguine"},{ingredientName:"Almond Flakes"},{ingredientName:"Mushrooms"},{ingredientName:"Parsley"}]},{name:"Sweet Potato Dhal",ingredients:[{ingredientName:"Red Lentils"},{ingredientName:"Onion"},{ingredientName:"Ginger"},{ingredientName:"Sweet Potato"},{ingredientName:"Coconut Milk"},{ingredientName:"Chilli"}]},{name:"Risotto",ingredients:[{ingredientName:"Risotto Rice"},{ingredientName:"Leek"},{ingredientName:"Chestnuts"},{ingredientName:"Walnuts"},{ingredientName:"White Wine"}]}],Je={meals:[],selectedMeals:[],error:!1,loading:!0},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:var n=e.meals.concat(t.meal);return localStorage.setItem("meals",JSON.stringify(n)),Object(b.a)(Object(b.a)({},e),{},{meals:n});case _:var r=e.meals.concat(t.meal);return localStorage.setItem("meals",JSON.stringify(r)),Object(b.a)(Object(b.a)({},e),{},{meals:r});case A:for(var a,o=Object(Ue.a)(e.meals),i=0;i<o.length;i++)if(o[i].id===t.mealId){a=i;break}return o=o.slice(0,a).concat(o.slice(a+1,o.length)),localStorage.setItem("meals",JSON.stringify(o)),Object(b.a)(Object(b.a)({},e),{},{meals:o});case I:for(var s,c=Object(Ue.a)(e.meals),l=0;l<c.length;l++)if(c[l].name===t.mealName){s=l;break}return c=c.slice(0,s).concat(c.slice(s+1,c.length)),localStorage.setItem("meals",JSON.stringify(c)),Object(b.a)(Object(b.a)({},e),{},{meals:c});case y:var d=Object(Ue.a)(e.meals),u=d.filter((function(e){return e.id===t.mealId}))[0],h=Object(Ue.a)(u.ingredients),p=h.concat(t.ingredient);return u.ingredients=p,localStorage.setItem("meals",JSON.stringify(d)),Object(b.a)(Object(b.a)({},e),{},{meals:d});case x:var g=Object(Ue.a)(e.meals),m=g.filter((function(e){return e.name===t.mealName}))[0],j=Object(Ue.a)(m.ingredients),f=j.concat(t.ingredient);return m.ingredients=f,localStorage.setItem("meals",JSON.stringify(g)),Object(b.a)(Object(b.a)({},e),{},{meals:g});case k:for(var O,v=Object(Ue.a)(e.meals),S=v.filter((function(e){return e.id===t.mealId}))[0],F=Object(Ue.a)(S.ingredients),B=0;B<F.length;B++)F[B].id===t.ingredientId&&(O=B);var U=F.slice(0,O).concat(F.slice(O+1,F.length));return S.ingredients=U,localStorage.setItem("meals",JSON.stringify(v)),Object(b.a)(Object(b.a)({},e),{},{meals:v});case C:for(var P,H=Object(Ue.a)(e.meals),J=H.filter((function(e){return e.name===t.mealName}))[0],G=Object(Ue.a)(J.ingredients),K=0;K<G.length;K++)G[K].ingredientName===t.ingredientName&&(P=K);var V=G.slice(0,P).concat(G.slice(P+1,G.length));return J.ingredients=V,localStorage.setItem("meals",JSON.stringify(H)),Object(b.a)(Object(b.a)({},e),{},{meals:H});case E:var Y=e.meals.filter((function(e){return e.name===t.mealName}))[0];return Object(b.a)(Object(b.a)({},e),{},{selectedMeals:e.selectedMeals.concat(Y)});case N:for(var z,W=0;W<e.selectedMeals.length;W++)if(e.selectedMeals[W].name===t.mealName){z=W;break}var X=e.selectedMeals.slice(0,z).concat(e.selectedMeals.slice(z+1,e.selectedMeals.length));return Object(b.a)(Object(b.a)({},e),{},{selectedMeals:X});case L:return Object(b.a)(Object(b.a)({},e),{},{meals:t.meals,error:!1});case w:return Pe(e,{loading:!0});case D:return Pe(e,{loading:!1});case T:return Pe(e,{meals:t.meals,loading:!1,error:!1});case R:var Q=JSON.parse(localStorage.getItem("meals"));return null===Q&&(Q=He,localStorage.setItem("meals",JSON.stringify(Q))),Pe(e,{meals:Q,loading:!1,error:!1});default:return e}},Ke={token:null,userId:null,error:null,loading:!1},Ve=function(e,t){return Pe(e,{error:null,loading:!0})},Ye=function(e,t){return Pe(e,{token:t.token,userId:t.userId,error:null,loading:!1})},ze=function(e,t){return Pe(e,{error:t.error,loading:!1})},We=function(e,t){return localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userId"),Pe(e,{token:null,userId:null})},Xe=function(e,t){return Pe(e,{authRedirectPath:t.path})},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Ve(e);case B:return Ye(e,t);case U:return ze(e,t);case P:return We(e);case H:return Xe(e,t);default:return e}},Ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,qe=Object(l.c)({meals:Ge,auth:Qe}),$e=Object(l.e)(qe,Ze(Object(l.a)(Be.a))),et=Object(r.jsx)(c.a,{store:$e,children:Object(r.jsx)(Fe,{})});s.a.render(Object(r.jsx)(o.a.StrictMode,{children:et}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.534d031f.chunk.js.map