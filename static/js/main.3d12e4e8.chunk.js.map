{"version":3,"sources":["components/Selector/MealCard/MealCard.module.css","components/Selector/Selector.module.css","components/UI/Modal/AuthModal/Auth/Auth.module.css","components/Selector/ShoppingList/ShoppingList.module.css","containers/Layout/Layout.module.css","components/UI/Button/RemoveButton/RemoveButton.module.css","components/UI/Button/Button.module.css","components/UI/Modal/Modal.module.css","components/UI/Backdrop/Backdrop.module.css","components/UI/Spinner/Spinner.module.css","components/UI/Modal/AuthModal/AuthModal.module.css","hoc/Aux.js","containers/Layout/Layout.js","axios-meals.js","store/actions/actionTypes.js","store/actions/meal.js","store/actions/auth.js","components/UI/Button/RemoveButton/RemoveButton.js","components/UI/Button/Button.js","components/Selector/MealCard/MealCard.js","components/UI/Backdrop/Backdrop.js","components/UI/Modal/Modal.js","components/Selector/ShoppingList/ShoppingList.js","components/UI/Modal/AuthModal/Auth/Login.js","components/UI/Modal/AuthModal/Auth/Register.js","components/UI/Spinner/Spinner.js","components/UI/Modal/AuthModal/AuthModal.js","components/Selector/Selector.js","App.js","shared/utility.js","store/reducers/meals.js","store/reducers/auth.js","index.js"],"names":["module","exports","aux","props","children","Layout","Aux","className","classes","Content","this","style","width","href","Component","instance","axios","create","baseURL","ADD_MEAL_SUCCESS","ADD_MEAL_LOCAL","REMOVE_MEAL_SUCCESS","REMOVE_MEAL_LOCAL","ADD_INGREDIENT_SUCCESS","UPDATE_INGREDIENT_SUCCESS","ADD_INGREDIENT_LOCAL","REMOVE_INGREDIENT_SUCCESS","REMOVE_INGREDIENT_LOCAL","SELECT_MEAL","DESELECT_MEAL","ADD_ITEM","SET_MEALS","FETCH_MEALS_START","FETCH_MEALS_SUCCESS","FETCH_MEALS_FAILED","FETCH_MEALS_LOCAL","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","AUTH_SET_REDIRECT_PATH","addMeal","meal","token","dispatch","type","axiosMeals","post","then","response","console","log","id","data","name","actionTypes","addMealSuccess","catch","error","addMealFailed","removeMeal","mealId","delete","removeMealSuccess","removeMealFailed","addIngredient","ingredient","addIngredientSuccess","addIngredientFailed","updateIngredient","put","updateIngredientSuccess","updateIngredientFailed","removeIngredient","ingredientId","removeIngredientSuccess","removeIngredientFailed","fetchMeals","userId","queryParams","get","fetchedMeals","key","fetchedIngredients","ingKey","ingredients","push","meals","fetchMealsFailed","authSuccess","logout","checkAuthTimeout","expirationTime","setTimeout","auth","email","password","isRegister","authData","returnSecureToken","url","Date","getTime","expiresIn","localStorage","setItem","idToken","localId","err","removeButton","RemoveButton","onClick","clicked","button","Button","MealCard","state","selected","addingIngredient","showIngredients","Boolean","new","editIngredient","componentDidMount","length","setState","onAddIngredientClicked","prevState","toggleShowIngredients","toggleSelectMeal","onDeselectMeal","onSelectMeal","onAddIngredientKeyPress","e","ingredientName","target","value","isAuthenticated","onAddIngredient","onAddIngredientLocal","removeIngredientClicked","ingId","onRemoveIngredient","onAddIngredientSubmit","event","preventDefault","FormData","ingredientObj","Object","fromEntries","entries","onIngredientClick","onUpdateIngredientSubmit","onUpdateIngredient","cardClasses","Selected","header","addInput","onSubmit","placeholder","autoFocus","onKeyPress","addMealKeyPress","protein","reduce","acc","val","Number","quantity","map","ing","index","Remove","defaultValue","total","Add","selectColour","selectOpacity","join","RMHolder","backgroundColor","opacity","removeMealClicked","Title","connect","selectedMeals","mealActions","mealName","onRemoveIngredientLocal","backdrop","show","Backdrop","modal","modalClosed","Modal","transform","display","opactiy","ShoppingList","addingItem","getIngredients","ings","i","j","onAddItemClicked","newItem","onAddItem","NewItem","onBlur","keys","suffix","actions","Login","submitHandler","onAuth","onUpdateField","field","Auth","errorMessage","onChange","toggleAuth","Register","spinner","loader","AuthModal","onToggleAuth","message","loading","Spinner","LoginModal","Selector","addingMeal","showList","showErrorModal","showLogin","onFetchMealsLocal","onAddMealClicked","onAddMealKeyPress","found","onAddMeal","onAddMealLocal","onShowList","onDismissModal","onLoginClicked","window","document","getElementById","focus","onLogoutClicked","onLogout","onDismissLogin","onRemoveMeal","onRemoveMealLocal","prevProps","onFetchMeals","addingMealCard","color","AuthButton","mealError","initialMeals","App","onTryAutoSignin","getItem","updateObject","oldObject","updatedProperties","initialState","reducer","action","nextMealsAdd","concat","nextMealsAddLocal","JSON","stringify","indexRemoveMeal","nextMealsRemoveMeal","slice","indexRemoveMealLocal","nextMealsRemoveMealLocal","nextMealsAddIngredient","thisMealAddIngredient","filter","m","oldAddIngredients","newAddIngredients","nextMealsAddIngredientLocal","thisMealAddIngredientLocal","oldAddIngredientsLocal","newAddIngredientsLocal","mealIndex","findIndex","beforeMeals","afterMeals","ingredientIndex","beforeIngredients","afterIngredients","removeIngredientIndex","nextMealsRemoveIngredient","thisMealRemove","oldRemoveIngredients","newRemoveIngredients","removeIngredientIndexLocal","nextMealsRemoveIngredientLocal","thisMealRemoveIngredientLocal","oldRemoveIngredientsLocal","newRemoveIngredientsLocal","selectedMeal","selectedIndex","nextSelectedMeals","nextSelectedMealsAddItem","localMeals","parse","authStart","authFail","authLogout","removeItem","setAuthRedirectPath","authRedirectPath","path","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","mealReducer","authReducer","store","createStore","applyMiddleware","thunk","app","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3d12e4e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MealCard\":\"MealCard_MealCard__26Yvk\",\"Selected\":\"MealCard_Selected__2PPtQ\",\"Hidden\":\"MealCard_Hidden__1pzE-\",\"Title\":\"MealCard_Title__R-MOE\",\"Add\":\"MealCard_Add__24PAG\",\"RMHolder\":\"MealCard_RMHolder__Bsk2Y\",\"RemoveMeal\":\"MealCard_RemoveMeal__3eLZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Selector\":\"Selector_Selector__J2pJn\",\"Button\":\"Selector_Button__3iUmT\",\"AuthButton\":\"Selector_AuthButton__1ratr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Auth\":\"Auth_Auth__1GNAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ShoppingList\":\"ShoppingList_ShoppingList__1dlPf\",\"NewItem\":\"ShoppingList_NewItem__N_7Xp\",\"Add\":\"ShoppingList_Add__2stgp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Layout_Content__PrDi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RemoveButton\":\"RemoveButton_RemoveButton__1uEds\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3gFiX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1-5dN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3j6VK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__fTuX5\",\"load7\":\"Spinner_load7__3lEXz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginModal\":\"AuthModal_LoginModal__31OlZ\"};","const aux = props => props.children;\n\nexport default aux;","import React, { Component } from 'react';\nimport Aux from '../../hoc/Aux';\n\nimport classes from './Layout.module.css';\n\nclass Layout extends Component {\n    render () {\n        return (\n\n            <Aux>\n                <main className={classes.Content}>\n                    {this.props.children}\n                </main>\n                <footer>\n                        <hr style={{width: \"90%\"}}/>\n                        <p><a href=\"https://github.com/georgeharvey3\">George Harvey</a> 2020</p>\n                </footer>\n            </Aux>\n        );\n    }\n}\n\nexport default Layout;","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://meal-selector-525ee-default-rtdb.firebaseio.com/'\n});\n\nexport default instance;","export const ADD_MEAL = \"ADD_MEAL\";\nexport const ADD_MEAL_START = \"ADD_MEAL_START\";\nexport const ADD_MEAL_FAILED = \"ADD_MEAL_FAILED\";\nexport const ADD_MEAL_SUCCESS = \"ADD_MEAL_SUCCESS\";\n\nexport const ADD_MEAL_LOCAL = \"ADD_MEAL_LOCAL\";\n\nexport const REMOVE_MEAL = \"REMOVE_MEAL\";\nexport const REMOVE_MEAL_START = \"REMOVE_MEAL_START\";\nexport const REMOVE_MEAL_FAILED = \"REMOVE_MEAL_FAILED\";\nexport const REMOVE_MEAL_SUCCESS = \"REMOVE_MEAL_SUCCESS\";\n\nexport const REMOVE_MEAL_LOCAL = \"REMOVE_MEAL_LOCAL\";\n\nexport const ADD_INGREDIENT = \"ADD_INGREDIENT\";\nexport const ADD_INGREDIENT_START = \"ADD_INGREDIENT_START\";\nexport const ADD_INGREDIENT_FAILED = \"ADD_INGREDIENT_FAILED\";\nexport const ADD_INGREDIENT_SUCCESS = \"ADD_INGREDIENT_SUCCESS\";\n\nexport const UPDATE_INGREDIENT = \"UPDATE_INGREDIENT\";\nexport const UPDATE_INGREDIENT_START = \"UPDATE_INGREDIENT_START\";\nexport const UPDATE_INGREDIENT_FAILED = \"UPDATE_INGREDIENT_FAILED\";\nexport const UPDATE_INGREDIENT_SUCCESS = \"UPDATE_INGREDIENT_SUCCESS\";\n\nexport const ADD_INGREDIENT_LOCAL = \"ADD_INGREDIENT_LOCAL\";\n\nexport const REMOVE_INGREDIENT = \"REMOVE_INGREDIENT\";\nexport const REMOVE_INGREDIENT_START = \"REMOVE_INGREDIENT_START\";\nexport const REMOVE_INGREDIENT_FAILED = \"REMOVE_INGREDIENT_FAILED\";\nexport const REMOVE_INGREDIENT_SUCCESS = \"REMOVE_INGREDIENT_SUCCESS\";\n\nexport const REMOVE_INGREDIENT_LOCAL = \"REMOVE_INGREDIENT_LOCAL\";\n\nexport const SELECT_MEAL = \"SELECT_MEAL\";\nexport const DESELECT_MEAL = \"DESELECT_MEAL\";\n\nexport const ADD_ITEM = \"ADD_ITEM\";\n\nexport const SET_MEALS = \"SET_MEALS\";\n\nexport const FETCH_MEALS_START = \"FETCH_MEALS_START\";\nexport const FETCH_MEALS_SUCCESS = \"FETCH_MEALS_SUCCESS\";\nexport const FETCH_MEALS_FAILED = \"FETCH_MEALS_FAILED\";\nexport const FETCH_MEALS = \"FETCH_MEALS\";\n\nexport const FETCH_MEALS_LOCAL = \"FETCH_MEALS_LOCAL\";\n\nexport const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const AUTH_SET_REDIRECT_PATH = \"SET_AUTH_REDIRECT_PATH\";\n","//import axios from 'axios';\nimport axiosMeals from \"../../axios-meals\";\n\nimport * as actionTypes from \"./actionTypes\";\n\nexport const addMealStart = () => {\n  return {\n    type: actionTypes.ADD_MEAL_START,\n  };\n};\n\nexport const addMealFailed = (error) => {\n  return {\n    type: actionTypes.ADD_MEAL_FAILED,\n    error: error,\n  };\n};\n\nexport const addMealSuccess = (meal) => {\n  return {\n    type: actionTypes.ADD_MEAL_SUCCESS,\n    meal: meal,\n  };\n};\n\nexport const addMeal = (meal, token) => {\n  return (dispatch) => {\n    dispatch(addMealStart());\n    axiosMeals\n      .post(\"/meals.json?auth=\" + token, meal)\n      .then((response) => {\n        console.log(response);\n        meal.id = response.data.name;\n        dispatch(addMealSuccess(meal));\n      })\n      .catch((error) => {\n        dispatch(addMealFailed(error));\n      });\n  };\n};\n\nexport const addMealLocal = (meal) => {\n  return {\n    type: actionTypes.ADD_MEAL_LOCAL,\n    meal: meal,\n  };\n};\n\nexport const removeMealStart = () => {\n  return {\n    type: actionTypes.REMOVE_MEAL_START,\n  };\n};\n\nexport const removeMealFailed = (error) => {\n  return {\n    type: actionTypes.REMOVE_MEAL_FAILED,\n    error: error,\n  };\n};\n\nexport const removeMealSuccess = (mealId) => {\n  return {\n    type: actionTypes.REMOVE_MEAL_SUCCESS,\n    mealId: mealId,\n  };\n};\n\nexport const removeMeal = (mealId, token) => {\n  return (dispatch) => {\n    dispatch(removeMealStart());\n    axiosMeals\n      .delete(\"/meals/\" + mealId + \".json?auth=\" + token)\n      .then((response) => {\n        dispatch(removeMealSuccess(mealId));\n      })\n      .catch((error) => {\n        dispatch(removeMealFailed(error));\n      });\n  };\n};\n\nexport const removeMealLocal = (mealName) => {\n  return {\n    type: actionTypes.REMOVE_MEAL_LOCAL,\n    mealName: mealName,\n  };\n};\n\nexport const addIngredientStart = () => {\n  return {\n    type: actionTypes.ADD_INGREDIENT_START,\n  };\n};\n\nexport const addIngredientFailed = (error) => {\n  return {\n    type: actionTypes.ADD_INGREDIENT_FAILED,\n    error: error,\n  };\n};\n\nexport const addIngredientSuccess = (mealId, ingredient) => {\n  return {\n    type: actionTypes.ADD_INGREDIENT_SUCCESS,\n    mealId: mealId,\n    ingredient: ingredient,\n  };\n};\n\nexport const addIngredient = (mealId, ingredient, token) => {\n  return (dispatch) => {\n    dispatch(addIngredientStart());\n    axiosMeals\n      .post(\"/meals/\" + mealId + \"/ingredients.json?auth=\" + token, ingredient)\n      .then((response) => {\n        ingredient.id = response.data.name;\n        dispatch(addIngredientSuccess(mealId, ingredient));\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch(addIngredientFailed(error));\n      });\n  };\n};\n\nexport const updateIngredientStart = () => {\n  return {\n    type: actionTypes.UPDATE_INGREDIENT_START,\n  };\n};\n\nexport const updateIngredientFailed = (error) => {\n  return {\n    type: actionTypes.UPDATE_INGREDIENT_FAILED,\n    error: error,\n  };\n};\n\nexport const updateIngredientSuccess = (mealId, ingredient) => {\n  return {\n    type: actionTypes.UPDATE_INGREDIENT_SUCCESS,\n    mealId: mealId,\n    ingredient: ingredient,\n  };\n};\n\nexport const updateIngredient = (mealId, ingredient, token) => {\n  return (dispatch) => {\n    dispatch(updateIngredientStart());\n    axiosMeals\n      .put(\n        `/meals/${mealId}/ingredients/${ingredient.id}.json?auth=${token}`,\n        ingredient\n      )\n      .then(() => {\n        dispatch(updateIngredientSuccess(mealId, ingredient));\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch(updateIngredientFailed(error));\n      });\n  };\n};\n\nexport const addIngredientLocal = (mealName, ingredient) => {\n  return {\n    type: actionTypes.ADD_INGREDIENT_LOCAL,\n    mealName: mealName,\n    ingredient: ingredient,\n  };\n};\n\nexport const addIngredient2 = (mealName, ingredientName) => {\n  return {\n    type: actionTypes.ADD_INGREDIENT,\n    mealName: mealName,\n    ingredientName: ingredientName,\n  };\n};\n\nexport const removeIngredientStart = () => {\n  return {\n    type: actionTypes.REMOVE_INGREDIENT_START,\n  };\n};\n\nexport const removeIngredientFailed = (error) => {\n  return {\n    type: actionTypes.REMOVE_INGREDIENT_FAILED,\n    error: error,\n  };\n};\n\nexport const removeIngredientSuccess = (mealId, ingredientId) => {\n  return {\n    type: actionTypes.REMOVE_INGREDIENT_SUCCESS,\n    mealId: mealId,\n    ingredientId: ingredientId,\n  };\n};\n\nexport const removeIngredient = (mealId, ingredientId, token) => {\n  return (dispatch) => {\n    dispatch(removeIngredientStart());\n    axiosMeals\n      .delete(\n        \"/meals/\" +\n          mealId +\n          \"/ingredients/\" +\n          ingredientId +\n          \".json?auth=\" +\n          token\n      )\n      .then((response) => {\n        dispatch(removeIngredientSuccess(mealId, ingredientId));\n      })\n      .catch((error) => {\n        dispatch(removeIngredientFailed(error));\n      });\n  };\n};\n\nexport const removeIngredientLocal = (mealName, ingredientName) => {\n  return {\n    type: actionTypes.REMOVE_INGREDIENT_LOCAL,\n    mealName: mealName,\n    ingredientName: ingredientName,\n  };\n};\n\nexport const selectMeal = (mealName) => {\n  return {\n    type: actionTypes.SELECT_MEAL,\n    mealName: mealName,\n  };\n};\n\nexport const deSelectMeal = (mealName) => {\n  return {\n    type: actionTypes.DESELECT_MEAL,\n    mealName: mealName,\n  };\n};\n\nexport const addItem = (newItem) => {\n  return {\n    type: actionTypes.ADD_ITEM,\n    newItem: newItem,\n  };\n};\n\nexport const fetchMealsStart = () => {\n  return {\n    type: actionTypes.FETCH_MEALS_START,\n  };\n};\n\nexport const fetchMealsFailed = (error) => {\n  return {\n    type: actionTypes.FETCH_MEALS_FAILED,\n    error: error,\n  };\n};\n\nexport const fetchMealsSuccess = (meals) => {\n  return {\n    type: actionTypes.FETCH_MEALS_SUCCESS,\n    meals: meals,\n  };\n};\n\nexport const fetchMeals = (token, userId) => {\n  return (dispatch) => {\n    dispatch(fetchMealsStart());\n    const queryParams =\n      \"?auth=\" + token + '&orderBy=\"userId\"&equalTo=\"' + userId + '\"';\n    axiosMeals\n      .get(\"/meals.json\" + queryParams)\n      .then((response) => {\n        const fetchedMeals = [];\n        for (let key in response.data) {\n          const fetchedIngredients = [];\n          for (let ingKey in response.data[key].ingredients) {\n            fetchedIngredients.push({\n              ...response.data[key].ingredients[ingKey],\n              id: ingKey,\n            });\n          }\n          fetchedMeals.push({\n            id: key,\n            name: response.data[key].name,\n            ingredients: fetchedIngredients,\n          });\n        }\n        dispatch(fetchMealsSuccess(fetchedMeals));\n      })\n      .catch((error) => {\n        console.log(error);\n        dispatch(fetchMealsFailed(error));\n      });\n  };\n};\n\nexport const fetchMealsLocal = () => {\n  return {\n    type: actionTypes.FETCH_MEALS_LOCAL,\n  };\n};\n","import * as actionTypes from './actionTypes';\n\nimport axios from 'axios';\n\nexport const authStart = () => {\n    return {\n        type: actionTypes.AUTH_START\n    }\n}\n\nexport const authSuccess = (token, userId) => {\n    return {\n        type: actionTypes.AUTH_SUCCESS,\n        token: token,\n        userId: userId\n    }\n}\n\nexport const authFail = error => {\n    return {\n        type: actionTypes.AUTH_FAIL,\n        error: error\n    }\n}\n\nexport const logout = () => {\n    return {\n        type: actionTypes.AUTH_LOGOUT\n    }\n}\n\nexport const checkAuthTimeout = expirationTime => {\n    return dispatch => {\n        setTimeout(() => {\n            dispatch(logout());\n        }, expirationTime * 1000);\n    }\n}\n\nexport const auth = (email, password, isRegister) => {\n    return dispatch => {\n        dispatch(authStart());\n        const authData = {\n            email: email,\n            password: password,\n            returnSecureToken: true\n        }\n        let url = \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCnbemvp5S8YOEwbdizrQFOaY6guuW7Q8M\"\n\n        if (isRegister) {\n            url = \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCnbemvp5S8YOEwbdizrQFOaY6guuW7Q8M\";\n        }\n\n        axios.post(url, authData)\n            .then(response => {\n                const expirationTime = new Date(new Date().getTime() + response.data.expiresIn * 1000);\n                localStorage.setItem('token', response.data.idToken);\n                localStorage.setItem('expirationTime', expirationTime);\n                localStorage.setItem('userId', response.data.localId);\n                dispatch(authSuccess(response.data.idToken, response.data.localId));\n                dispatch(checkAuthTimeout(response.data.expiresIn));\n            })\n            .catch(err => {\n                dispatch(authFail(err.response.data.error));\n            })\n    }\n}\n\nexport const authCheckState = () => {\n    return dispatch => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            dispatch(logout());\n        } else {\n            const expirationTime = new Date(localStorage.getItem('expirationTime'));\n            if (expirationTime <= new Date()) {\n                dispatch(logout());\n            } else {\n                const userId = localStorage.getItem('userId');\n                dispatch(authSuccess(token, userId));\n                dispatch(checkAuthTimeout((expirationTime.getTime() - new Date().getTime())/1000));\n            }\n        }\n    }\n}\n\nexport const setRedirectPath = (path) => {\n    return {\n        type: actionTypes.AUTH_SET_REDIRECT_PATH,\n        path: path\n    }\n}","import React from 'react';\n\nimport classes from './RemoveButton.module.css';\n\nconst removeButton = props => (\n    <button \n        className={classes.RemoveButton}\n        onClick={props.clicked}>{props.children}\n    </button>\n);\n\nexport default removeButton;","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst button = props => (\n    <button \n        className={classes.Button}\n        onClick={props.clicked}>{props.children}</button>\n);\n\nexport default button;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport * as mealActions from \"../../../store/actions/index\";\n\nimport RemoveButton from \"../../UI/Button/RemoveButton/RemoveButton\";\nimport Button from \"../../UI/Button/Button\";\n\nimport Aux from \"../../../hoc/Aux\";\n\nimport classes from \"./MealCard.module.css\";\n\nclass MealCard extends Component {\n  state = {\n    selected: false,\n    addingIngredient: false,\n    showIngredients: Boolean(this.props.new),\n    editIngredient: \"\",\n  };\n\n  componentDidMount = () => {\n    if (this.props.meal && this.props.meal.ingredients.length === 0) {\n      this.setState({\n        showIngredients: true,\n      });\n    }\n  };\n\n  onAddIngredientClicked = () => {\n    this.setState((prevState) => {\n      return {\n        addingIngredient: !prevState.addingIngredient,\n      };\n    });\n  };\n\n  toggleShowIngredients = () => {\n    this.setState((prevState) => {\n      return {\n        showIngredients: !prevState.showIngredients,\n        editIngredient: \"\",\n      };\n    });\n  };\n\n  toggleSelectMeal = () => {\n    if (this.props.new) {\n      return;\n    }\n    if (!this.state.selected) {\n      this.props.onSelectMeal(this.props.meal.name);\n    } else {\n      this.props.onDeselectMeal(this.props.meal.name);\n    }\n\n    this.setState((prevState) => {\n      return {\n        selected: !prevState.selected,\n      };\n    });\n  };\n\n  onAddIngredientKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      this.setState({\n        addingIngredient: false,\n      });\n      let ingredient = { ingredientName: e.target.value };\n      if (this.props.isAuthenticated) {\n        this.props.onAddIngredient(\n          this.props.meal.id,\n          ingredient,\n          this.props.token\n        );\n      } else {\n        this.props.onAddIngredientLocal(this.props.meal.name, ingredient);\n      }\n    }\n  };\n\n  removeIngredientClicked = (ingId) => {\n    if (this.props.isAuthenticated) {\n      this.props.onRemoveIngredient(\n        this.props.meal.id,\n        ingId,\n        this.props.token\n      );\n    }\n  };\n\n  onAddIngredientSubmit = (event) => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n\n    const ingredientObj = Object.fromEntries(data.entries());\n\n    this.setState({\n      addingIngredient: false,\n    });\n    if (this.props.isAuthenticated) {\n      this.props.onAddIngredient(\n        this.props.meal.id,\n        ingredientObj,\n        this.props.token\n      );\n    } else {\n      this.props.onAddIngredientLocal(this.props.meal.name, ingredientObj);\n    }\n  };\n\n  onIngredientClick = (ingredientName) => {\n    this.setState({\n      editIngredient: ingredientName,\n    });\n  };\n\n  onUpdateIngredientSubmit = (event, ingredientId) => {\n    event.preventDefault();\n    const data = new FormData(event.target);\n\n    let ingredientObj = Object.fromEntries(data.entries());\n\n    ingredientObj = { ...ingredientObj, id: ingredientId };\n\n    this.setState({\n      addingIngredient: false,\n    });\n    if (this.props.isAuthenticated) {\n      this.props.onUpdateIngredient(\n        this.props.meal.id,\n        ingredientObj,\n        this.props.token\n      );\n    }\n    this.setState({\n      editIngredient: \"\",\n    });\n  };\n\n  render() {\n    let cardClasses = [classes.MealCard];\n\n    if (this.state.selected) {\n      cardClasses.push(classes.Selected);\n    }\n\n    let addInput = null;\n\n    if (this.state.addingIngredient) {\n      addInput = (\n        <form onSubmit={this.onAddIngredientSubmit}>\n          <input\n            name=\"ingredientName\"\n            placeholder=\"Ingredient Name\"\n            autoFocus={true}\n          />\n          <input name=\"quantity\" placeholder=\"Quantity (g)\" />\n          <input name=\"protein\" placeholder=\"Protein per 100g\" />\n          <input type=\"submit\" />\n        </form>\n      );\n    }\n\n    let header;\n    let ingredients = [];\n\n    if (this.props.new) {\n      header = (\n        <input onKeyPress={this.props.addMealKeyPress} autoFocus={true} />\n      );\n    } else {\n      let protein =\n        this.props.meal.ingredients.reduce(\n          (acc, val) =>\n            acc + Number((val.protein || 0) * (val.quantity / 100 || 1)),\n          0\n        ) || null;\n\n      if (protein) {\n        protein = \"Protein: \" + protein + \"g\";\n      }\n      header = (\n        <Aux>\n          <h3>{this.props.meal.name}</h3>\n          <h4>{protein}</h4>\n          <Button clicked={this.toggleShowIngredients}>\n            {this.state.showIngredients\n              ? \"Hide Ingredients\"\n              : \"Show Ingredients\"}\n          </Button>\n        </Aux>\n      );\n      if (\n        this.props.meal.ingredients &&\n        this.props.meal.ingredients.length > 0\n      ) {\n        ingredients = this.props.meal.ingredients.map((ing, index) => {\n          if (ing.ingredientName !== this.state.editIngredient) {\n            return (\n              <li key={index}>\n                <RemoveButton\n                  className={classes.Remove}\n                  clicked={() => this.removeIngredientClicked(ing.id)}\n                >\n                  X\n                </RemoveButton>\n                <p onClick={() => this.onIngredientClick(ing.ingredientName)}>\n                  {ing.ingredientName}\n                </p>\n              </li>\n            );\n          } else {\n            return (\n              <form\n                key={index}\n                onSubmit={(event) =>\n                  this.onUpdateIngredientSubmit(event, ing.id)\n                }\n              >\n                <input\n                  name=\"ingredientName\"\n                  placeholder=\"Ingredient Name\"\n                  autoFocus={true}\n                  defaultValue={ing.ingredientName}\n                />\n                <input\n                  name=\"quantity\"\n                  placeholder=\"Quantity (g)\"\n                  defaultValue={ing.quantity}\n                />\n                <input\n                  name=\"protein\"\n                  placeholder=\"Protein per 100g\"\n                  defaultValue={ing.protein}\n                />\n                <input type=\"submit\" />\n              </form>\n            );\n          }\n        });\n      }\n    }\n\n    let total = (\n      <Aux>\n        <hr />\n        <ul>{ingredients}</ul>\n        {addInput}\n        <button className={classes.Add} onClick={this.onAddIngredientClicked}>\n          {this.state.addingIngredient ? \"-\" : \"+\"}\n        </button>\n      </Aux>\n    );\n\n    if (!this.state.showIngredients) {\n      total = null;\n    }\n\n    let selectColour = this.state.selected\n      ? \"rgb(112, 112, 112)\"\n      : \"rgb(53, 110, 53)\";\n    let selectOpacity = \"1\";\n\n    if (this.props.new) {\n      selectColour = \"rgb(112, 112, 112)\";\n      selectOpacity = 0.5;\n    }\n\n    return (\n      <div className={cardClasses.join(\" \")}>\n        <div className={classes.RMHolder}>\n          <button\n            className={selectColour}\n            style={{ backgroundColor: selectColour, opacity: selectOpacity }}\n            onClick={this.toggleSelectMeal}\n          >\n            {this.state.selected ? \"Deselect\" : \"Select\"}\n          </button>\n          <button\n            style={{ backgroundColor: \"rgb(180, 66, 66)\" }}\n            onClick={this.props.removeMealClicked}\n          >\n            Delete\n          </button>\n        </div>\n        <div className={classes.Title}>{header}</div>\n        {total}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    selectedMeals: state.meals.selectedMeals,\n    token: state.auth.token,\n    isAuthenticated: state.auth.token !== null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onAddIngredient: (mealId, ingredient, token) =>\n      dispatch(mealActions.addIngredient(mealId, ingredient, token)),\n    onAddIngredientLocal: (mealName, ingredient) =>\n      dispatch(mealActions.addIngredientLocal(mealName, ingredient)),\n    onUpdateIngredient: (mealId, ingredient, token) =>\n      dispatch(mealActions.updateIngredient(mealId, ingredient, token)),\n    onRemoveIngredient: (mealId, ingredientId, token) =>\n      dispatch(mealActions.removeIngredient(mealId, ingredientId, token)),\n    onRemoveIngredientLocal: (mealName, ingredientName) =>\n      dispatch(mealActions.removeIngredientLocal(mealName, ingredientName)),\n    onSelectMeal: (mealName) => dispatch(mealActions.selectMeal(mealName)),\n    onDeselectMeal: (mealName) => dispatch(mealActions.deSelectMeal(mealName)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MealCard);\n","import React from 'react';\n\nimport classes from './Backdrop.module.css';\n\nconst backdrop = props => (\n    props.show ? <div \n        className={classes.Backdrop} \n        onClick={props.clicked} /> : null\n)\n\nexport default backdrop;","import React from 'react';\n\nimport classes from './Modal.module.css';\n\nimport Backdrop from '../Backdrop/Backdrop';\nimport Aux from '../../../hoc/Aux';\n\nconst modal = props => {\n    return (\n        <Aux>\n            <Backdrop \n                show={props.show} \n                clicked={props.modalClosed}/>\n            <div \n                className={classes.Modal}\n                style={{\n                    transform: props.show ? 'translateY(0)' : 'translateY(-100vh)',\n                    display: props.show ? 'block': 'none',\n                    opactiy: props.show ? '1' : '0'\n                }}>\n                {props.children}\n            </div>\n        </Aux>\n    );\n}\n\nexport default modal;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\n\nimport classes from './ShoppingList.module.css';\n\nclass ShoppingList extends Component {\n\n    state = {\n        addingItem: false\n    }\n    \n    getIngredients = (meals) => {\n        let ings = {};\n        for (let i = 0; i < meals.length; i ++) {\n            let meal = meals[i];\n            for (let j = 0; j < meal.ingredients.length; j ++) {\n                if (meal.ingredients[j].ingredientName in ings) {\n                    ings[meal.ingredients[j].ingredientName] += 1\n                } else {\n                    ings[meal.ingredients[j].ingredientName] = 1;\n                }\n            }\n        }\n        return ings;\n    }\n\n    onAddItemClicked = () => {\n        this.setState({\n            addingItem: true\n        });\n    }\n\n    onAddIngredientKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            this.setState({\n                addingItem: false\n            });\n            let newItem = {ingredientName: e.target.value}\n            \n            this.props.onAddItem(newItem);\n        }\n    }\n\n    \n\n    render () {\n        let ingredients = this.getIngredients(this.props.selectedMeals);\n\n        let addInput;\n\n        if (this.state.addingItem) {\n            addInput = <input \n                className={classes.NewItem}\n                onKeyPress={this.onAddIngredientKeyPress}\n                autoFocus={true}\n                onBlur={() => {this.setState({addingIngredient: false})}}/>\n        }\n\n        return (\n            <div className={classes.ShoppingList}>\n                <h3>Your Shopping List:</h3>\n                <ul>\n                    {Object.keys(ingredients).map(ing => {\n                        let suffix = \"\";\n\n                        if (ingredients[ing] > 1) {\n                            suffix += \" \";\n                            for (let i = 0; i < ingredients[ing]; i ++) {\n                                suffix += \"*\";\n                            }\n                        }\n\n                        return (\n                            <li key={ing}>\n                                <input type=\"checkbox\" />\n                                <p>{ing + suffix}</p>\n                            </li>\n                        );\n                    })}\n                </ul>\n                {addInput}\n                <button \n                    className={classes.Add}\n                    onClick={this.onAddItemClicked}>+</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        selectedMeals: state.meals.selectedMeals\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onAddItem: (newItem) => dispatch(actions.addItem(newItem))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingList);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './Auth.module.css';\n\nimport * as actionTypes from '../../../../../store/actions/index';\n\nclass Login extends Component {\n\n    state = {\n        email: '',\n        password: ''\n    }\n\n    submitHandler = event => {\n        event.preventDefault();\n        this.props.onAuth(this.state.email, this.state.password, false);\n    }\n\n    onUpdateField = (event, field) => {\n        this.setState({\n            [field]: event.target.value\n        });\n    }\n\n    render () {\n        return (\n            <div className={classes.Auth}>\n                <h3>Login</h3>\n                {this.props.errorMessage}\n                <form>\n                    <input\n                        id=\"loginInput\"  \n                        placeholder=\"Email\"\n                        onChange={(event) => this.onUpdateField(event, \"email\")}\n                        autoFocus={true}/>\n                    <br/>\n                    <input type=\"password\" \n                        placeholder=\"Password\"\n                        onChange={(event) => this.onUpdateField(event, \"password\")}/>\n                    <br/>\n                    <button onClick={this.submitHandler}>Sign In</button>\n                </form>\n                <p>Don't have an account? <span onClick={this.props.toggleAuth}>Sign Up</span></p>\n            </div>\n        )\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onAuth: (email, password, isRegister) => dispatch(actionTypes.auth(email, password, isRegister))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './Auth.module.css';\n\nimport * as actionTypes from '../../../../../store/actions/index';\n\nclass Register extends Component {\n\n    state = {\n        email: '',\n        password: ''\n    }\n\n    submitHandler = event => {\n        event.preventDefault();\n        this.props.onAuth(this.state.email, this.state.password, true);\n    }\n\n    onUpdateField = (event, field) => {\n        this.setState({\n            [field]: event.target.value\n        });\n    }\n\n    render () {\n        return (\n            <div className={classes.Auth}>\n                <h3>Register</h3>\n                {this.props.errorMessage}\n                <form>\n                    <input\n                        placeholder=\"Email\"\n                        onChange={(event) => this.onUpdateField(event, \"email\")}\n                        autoFocus={true}/>\n                    <br/>\n                    <input type=\"password\" \n                        placeholder=\"Password\"\n                        onChange={(event) => this.onUpdateField(event, \"password\")}/>\n                    <br />\n                </form>\n                <button onClick={this.submitHandler}>Sign Up</button>\n                <p>Already have an account? <span onClick={this.props.toggleAuth}>Login</span></p>\n            </div>\n        );\n    }    \n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onAuth: (email, password, isRegister) => dispatch(actionTypes.auth(email, password, isRegister))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(Register);\n\n","import React from 'react';\n\nimport classes from './Spinner.module.css';\n\nconst spinner = () => (\n    <div className={classes.loader} />\n);\n\nexport default spinner;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport Login from './Auth/Login';\nimport Register from './Auth/Register';\nimport Backdrop from '../../Backdrop/Backdrop';\nimport Spinner from '../../Spinner/Spinner';\n\nimport classes from './AuthModal.module.css';\n\nimport Aux from '../../../../hoc/Aux';\n\nclass AuthModal extends Component {\n\n    state = {\n        isRegister: false\n    }\n\n    onToggleAuth = () => {\n        this.setState(prevState => {\n            return {\n                isRegister: !prevState.isRegister\n            }\n        })\n    }\n\n    render () {\n        let errorMessage = null\n\n        if (this.props.error) {\n            errorMessage = (\n                <p>{this.props.error.message}</p>\n            );\n        }\n\n        let auth = this.state.isRegister ? \n            <Register \n                toggleAuth={this.onToggleAuth}\n                errorMessage={errorMessage}/> : \n            <Login \n                toggleAuth={this.onToggleAuth}\n                errorMessage={errorMessage}/>\n\n        if (this.props.loading) {\n            auth = <Spinner />;\n        }\n\n        return (\n            <Aux>\n                <Backdrop \n                    show={this.props.show} \n                    clicked={this.props.modalClosed}/>\n                \n                <div \n                    className={classes.LoginModal}\n                    style={{\n                        display: this.props.show ? 'block': 'none',\n                        opactiy: this.props.show ? '1' : '0'\n                    }}>\n                    {auth}\n                </div>\n            </Aux>\n        );\n    }\n};\n\nconst mapStateToProps = state => {\n    return {\n        loading: state.auth.loading,\n        error: state.auth.error\n    }\n}\n\nexport default connect(mapStateToProps)(AuthModal);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nimport MealCard from './MealCard/MealCard';\nimport Modal from '../UI/Modal/Modal';\nimport ShoppingList from '../Selector/ShoppingList/ShoppingList';\nimport LoginModal from '../UI/Modal/AuthModal/AuthModal';\n\nimport classes from './Selector.module.css';\n\nimport Aux from '../../hoc/Aux';\n\nclass Selector extends Component {\n\n    state = {\n        addingMeal: false,\n        showList: false,\n        showErrorModal: false,\n        errorMessage: \"\",\n        showLogin: false\n    }\n\n    componentDidMount = () => {\n        if (!this.props.isAuthenticated) {\n            this.props.onFetchMealsLocal();\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.isAuthenticated !== this.props.isAuthenticated) {\n            if (this.props.isAuthenticated) {\n\n                this.props.onFetchMeals(this.props.token, this.props.userId);\n\n                this.setState({\n                    showLogin: false\n                });\n            }\n        }\n    }\n\n    onAddMealClicked = () => {\n        this.setState({\n            addingMeal: true\n        });\n    }\n\n    onAddMealKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            let found = false;\n            for (let i = 0; i < this.props.meals.length; i ++) {\n                if (this.props.meals[i].name === e.target.value) {\n                    found = true;\n                }\n            }\n\n            if (found) {\n                this.setState({\n                    showErrorModal: true,\n                    errorMessage: `You already have a meal named ${e.target.value}!`\n                })\n            } else {\n                this.setState({\n                    addingMeal: false\n                });\n                let mealName = e.target.value;\n\n                if (this.props.isAuthenticated) {\n                    let meal = {\n                        name: mealName,\n                        ingredients: [],\n                        userId: this.props.userId\n                    }\n                    this.props.onAddMeal(meal, this.props.token);\n                } else {\n                    let meal = {\n                        name: mealName,\n                        ingredients: []\n                    }\n                    this.props.onAddMealLocal(meal);\n                }\n            }\n        }\n    }\n\n    onShowList = () => {\n        this.setState({\n            showList: true\n        })\n    }\n\n    onDismissModal = () => {\n        this.setState({\n            showList: false,\n            showErrorModal: false\n        });\n    }\n\n    onLoginClicked = () => {\n        this.setState({\n            showLogin: true\n        });\n        window.setTimeout(function () { \n            document.getElementById('loginInput').focus(); \n        }, 0); \n    }\n\n    onLogoutClicked = () => {\n        this.props.onLogout();\n        this.props.onFetchMealsLocal();\n    }\n\n    onDismissLogin = () => {\n        this.setState({\n            showLogin: false\n        })\n    }\n\n    removeMealClicked = (meal) => {\n        if (this.props.isAuthenticated) {\n            this.props.onRemoveMeal(meal.id, this.props.token);\n        } else {\n            this.props.onRemoveMealLocal(meal.name);\n        }\n    }\n\n    render () {\n        let addingMealCard = null;\n        if (this.state.addingMeal) {\n            addingMealCard = <MealCard \n                                key={0}\n                                new\n                                addMealKeyPress={(e) => this.onAddMealKeyPress(e)}\n                                removeMealClicked={() => this.setState({addingMeal: false})}/>\n        }\n\n        return (\n            <Aux>\n                <h1 style={{color: \"rgb(53, 110, 53)\"}}>Meal Selector</h1>\n                {this.props.isAuthenticated ? \n                    <button\n                    onClick={this.onLogoutClicked}\n                    className={classes.AuthButton}>\n                        Logout\n                    </button> :\n                    <button\n                        onClick={this.onLoginClicked}\n                        className={classes.AuthButton}>\n                            Login/Register\n                    </button>}\n                <br />\n                <button\n                    className={classes.Button}\n                    onClick={this.onAddMealClicked}>Add Meal</button>\n                <button\n                    className={classes.Button}\n                    onClick={this.onShowList}>See List</button>\n                <div className={classes.Selector}>\n                    {this.props.meals.map((meal, index) => {\n                        return (\n                            <MealCard \n                                key={index} \n                                meal={meal} \n                                removeMealClicked={() => this.removeMealClicked(meal)}/>\n                        );\n                    })}\n                    {addingMealCard}\n                </div>\n                \n                <Modal \n                    show={this.state.showList}\n                    modalClosed={this.onDismissModal}>\n                    <ShoppingList />\n                </Modal>\n                <Modal\n                    show={this.state.showErrorModal}\n                    modalClosed={this.onDismissModal}>\n                        <p>{this.state.errorMessage}</p>\n                </Modal>\n                <LoginModal \n                    show={this.state.showLogin}\n                    modalClosed={this.onDismissLogin}/>\n            </Aux>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        meals: state.meals.meals,\n        isAuthenticated: state.auth.token !== null,\n        token: state.auth.token,\n        mealError: state.meals.error,\n        userId: state.auth.userId\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onAddMeal: (meal, token) => dispatch(actions.addMeal(meal, token)),\n        onAddMealLocal: (meal) => dispatch(actions.addMealLocal(meal)),\n        onRemoveMeal: (mealId, token) => dispatch(actions.removeMeal(mealId, token)),\n        onRemoveMealLocal: (mealName) => dispatch(actions.removeMealLocal(mealName)),\n        onFetchMeals: (token, userId) => dispatch(actions.fetchMeals(token, userId)),\n        onFetchMealsLocal: () => dispatch(actions.fetchMealsLocal()),\n        onLogout: () => dispatch(actions.logout())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Selector);","import './App.css';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport Layout from './containers/Layout/Layout';\nimport Selector from './components/Selector/Selector';\n\nimport * as actions from './store/actions/index';\n\nlet initialMeals = [\n  {'name': 'curry', 'ingredients': ['rice', 'spice']},\n  {'name': 'soup', 'ingredients': ['vegetables', 'stock']},\n  {'name': 'burger', 'ingredients': ['patty', 'bun']},\n  {'name': 'eggs', 'ingredients': ['egg', 'bread']},\n  {'name': 'salad', 'ingredients': ['lettuce', 'gin']},\n  {'name': 'pasta', 'ingredients': ['pasata', 'tomato']}\n];\n\nclass App extends Component {\n\n  componentDidMount = () => {\n    this.props.onTryAutoSignin();\n  }\n\n  render () {\n    return (\n      <div className=\"App\">\n        <Layout>\n          <Selector meals={initialMeals}/>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignin: () => dispatch(actions.authCheckState())\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n","export const updateObject = (oldObject, updatedProperties) => {\n    return {\n        ...oldObject,\n        ...updatedProperties\n    }\n}","import * as actionTypes from \"../actions/actionTypes\";\nimport { updateObject } from \"../../shared/utility\";\n\nlet initialMeals = [\n  {\n    name: \"Carbonara\",\n    ingredients: [\n      { ingredientName: \"Dijon Mustard\" },\n      { ingredientName: \"Cashews\" },\n      { ingredientName: \"Linguine\" },\n      { ingredientName: \"Almond Flakes\" },\n      { ingredientName: \"Mushrooms\" },\n      { ingredientName: \"Parsley\" },\n    ],\n  },\n  {\n    name: \"Sweet Potato Dhal\",\n    ingredients: [\n      { ingredientName: \"Red Lentils\" },\n      { ingredientName: \"Onion\" },\n      { ingredientName: \"Ginger\" },\n      { ingredientName: \"Sweet Potato\" },\n      { ingredientName: \"Coconut Milk\" },\n      { ingredientName: \"Chilli\" },\n    ],\n  },\n  {\n    name: \"Risotto\",\n    ingredients: [\n      { ingredientName: \"Risotto Rice\" },\n      { ingredientName: \"Leek\" },\n      { ingredientName: \"Chestnuts\" },\n      { ingredientName: \"Walnuts\" },\n      { ingredientName: \"White Wine\" },\n    ],\n  },\n];\n\nconst initialState = {\n  meals: [],\n  selectedMeals: [],\n  error: false,\n  loading: true,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_MEAL_SUCCESS:\n      let nextMealsAdd = state.meals.concat(action.meal);\n\n      return {\n        ...state,\n        meals: nextMealsAdd,\n      };\n    case actionTypes.ADD_MEAL_LOCAL:\n      let nextMealsAddLocal = state.meals.concat(action.meal);\n\n      localStorage.setItem(\"meals\", JSON.stringify(nextMealsAddLocal));\n\n      return {\n        ...state,\n        meals: nextMealsAddLocal,\n      };\n    case actionTypes.REMOVE_MEAL_SUCCESS:\n      let nextMealsRemoveMeal = [...state.meals];\n      let indexRemoveMeal;\n\n      for (let i = 0; i < nextMealsRemoveMeal.length; i++) {\n        if (nextMealsRemoveMeal[i].id === action.mealId) {\n          indexRemoveMeal = i;\n          break;\n        }\n      }\n\n      nextMealsRemoveMeal = nextMealsRemoveMeal\n        .slice(0, indexRemoveMeal)\n        .concat(\n          nextMealsRemoveMeal.slice(\n            indexRemoveMeal + 1,\n            nextMealsRemoveMeal.length\n          )\n        );\n\n      return {\n        ...state,\n        meals: nextMealsRemoveMeal,\n      };\n    case actionTypes.REMOVE_MEAL_LOCAL:\n      let nextMealsRemoveMealLocal = [...state.meals];\n      let indexRemoveMealLocal;\n\n      for (let i = 0; i < nextMealsRemoveMealLocal.length; i++) {\n        if (nextMealsRemoveMealLocal[i].name === action.mealName) {\n          indexRemoveMealLocal = i;\n          break;\n        }\n      }\n\n      nextMealsRemoveMealLocal = nextMealsRemoveMealLocal\n        .slice(0, indexRemoveMealLocal)\n        .concat(\n          nextMealsRemoveMealLocal.slice(\n            indexRemoveMealLocal + 1,\n            nextMealsRemoveMealLocal.length\n          )\n        );\n\n      localStorage.setItem(\"meals\", JSON.stringify(nextMealsRemoveMealLocal));\n\n      return {\n        ...state,\n        meals: nextMealsRemoveMealLocal,\n      };\n\n    case actionTypes.ADD_INGREDIENT_SUCCESS:\n      let nextMealsAddIngredient = [...state.meals];\n      let thisMealAddIngredient = nextMealsAddIngredient.filter(\n        (m) => m.id === action.mealId\n      )[0];\n      let oldAddIngredients = [...thisMealAddIngredient.ingredients];\n      let newAddIngredients = oldAddIngredients.concat(action.ingredient);\n      thisMealAddIngredient.ingredients = newAddIngredients;\n\n      return {\n        ...state,\n        meals: nextMealsAddIngredient,\n      };\n    case actionTypes.ADD_INGREDIENT_LOCAL:\n      let nextMealsAddIngredientLocal = [...state.meals];\n      let thisMealAddIngredientLocal = nextMealsAddIngredientLocal.filter(\n        (m) => m.name === action.mealName\n      )[0];\n      let oldAddIngredientsLocal = [...thisMealAddIngredientLocal.ingredients];\n      let newAddIngredientsLocal = oldAddIngredientsLocal.concat(\n        action.ingredient\n      );\n      thisMealAddIngredientLocal.ingredients = newAddIngredientsLocal;\n\n      localStorage.setItem(\n        \"meals\",\n        JSON.stringify(nextMealsAddIngredientLocal)\n      );\n\n      return {\n        ...state,\n        meals: nextMealsAddIngredientLocal,\n      };\n    case actionTypes.UPDATE_INGREDIENT_SUCCESS:\n      const mealIndex = state.meals.findIndex(\n        (meal) => meal.id === action.mealId\n      );\n      const beforeMeals = state.meals.slice(0, mealIndex);\n      const afterMeals = state.meals.slice(mealIndex + 1, state.meals.length);\n      let meal = { ...state.meals[mealIndex] };\n      let ingredients = meal.ingredients;\n      const ingredientIndex = ingredients.findIndex(\n        (ingredient) => ingredient.id === action.ingredient.id\n      );\n      const beforeIngredients = ingredients.slice(0, ingredientIndex);\n      const afterIngredients = ingredients.slice(\n        ingredientIndex + 1,\n        ingredients.length\n      );\n      ingredients = [\n        ...beforeIngredients,\n        action.ingredient,\n        ...afterIngredients,\n      ];\n\n      meal = { ...meal, ingredients: ingredients };\n\n      const meals = [...beforeMeals, meal, ...afterMeals];\n\n      return {\n        ...state,\n        meals: meals,\n      };\n\n    case actionTypes.REMOVE_INGREDIENT_SUCCESS:\n      let nextMealsRemoveIngredient = [...state.meals];\n      let thisMealRemove = nextMealsRemoveIngredient.filter(\n        (m) => m.id === action.mealId\n      )[0];\n      let oldRemoveIngredients = [...thisMealRemove.ingredients];\n      let removeIngredientIndex;\n      for (let i = 0; i < oldRemoveIngredients.length; i++) {\n        if (oldRemoveIngredients[i].id === action.ingredientId) {\n          removeIngredientIndex = i;\n        }\n      }\n      let newRemoveIngredients = oldRemoveIngredients\n        .slice(0, removeIngredientIndex)\n        .concat(\n          oldRemoveIngredients.slice(\n            removeIngredientIndex + 1,\n            oldRemoveIngredients.length\n          )\n        );\n      thisMealRemove.ingredients = newRemoveIngredients;\n\n      return {\n        ...state,\n        meals: nextMealsRemoveIngredient,\n      };\n    case actionTypes.REMOVE_INGREDIENT_LOCAL:\n      let nextMealsRemoveIngredientLocal = [...state.meals];\n      let thisMealRemoveIngredientLocal = nextMealsRemoveIngredientLocal.filter(\n        (m) => m.name === action.mealName\n      )[0];\n      let oldRemoveIngredientsLocal = [\n        ...thisMealRemoveIngredientLocal.ingredients,\n      ];\n      let removeIngredientIndexLocal;\n      for (let i = 0; i < oldRemoveIngredientsLocal.length; i++) {\n        if (\n          oldRemoveIngredientsLocal[i].ingredientName === action.ingredientName\n        ) {\n          removeIngredientIndexLocal = i;\n        }\n      }\n      let newRemoveIngredientsLocal = oldRemoveIngredientsLocal\n        .slice(0, removeIngredientIndexLocal)\n        .concat(\n          oldRemoveIngredientsLocal.slice(\n            removeIngredientIndexLocal + 1,\n            oldRemoveIngredientsLocal.length\n          )\n        );\n      thisMealRemoveIngredientLocal.ingredients = newRemoveIngredientsLocal;\n\n      localStorage.setItem(\n        \"meals\",\n        JSON.stringify(nextMealsRemoveIngredientLocal)\n      );\n\n      return {\n        ...state,\n        meals: nextMealsRemoveIngredientLocal,\n      };\n\n    case actionTypes.SELECT_MEAL:\n      let selectedMeal = state.meals.filter(\n        (m) => m.name === action.mealName\n      )[0];\n\n      return {\n        ...state,\n        selectedMeals: state.selectedMeals.concat(selectedMeal),\n      };\n    case actionTypes.DESELECT_MEAL:\n      let selectedIndex;\n\n      for (let i = 0; i < state.selectedMeals.length; i++) {\n        if (state.selectedMeals[i].name === action.mealName) {\n          selectedIndex = i;\n          break;\n        }\n      }\n\n      let nextSelectedMeals = state.selectedMeals\n        .slice(0, selectedIndex)\n        .concat(\n          state.selectedMeals.slice(\n            selectedIndex + 1,\n            state.selectedMeals.length\n          )\n        );\n      return {\n        ...state,\n        selectedMeals: nextSelectedMeals,\n      };\n    case actionTypes.ADD_ITEM:\n      let nextSelectedMealsAddItem = [...state.selectedMeals];\n\n      return {\n        ...state,\n        selectedMeals: nextSelectedMealsAddItem.concat({\n          ingredients: [action.newItem],\n        }),\n      };\n\n    case actionTypes.SET_MEALS:\n      return {\n        ...state,\n        meals: action.meals,\n        error: false,\n      };\n    case actionTypes.FETCH_MEALS_START:\n      return updateObject(state, { loading: true });\n    case actionTypes.FETCH_MEALS_FAILED:\n      return updateObject(state, { loading: false });\n    case actionTypes.FETCH_MEALS_SUCCESS:\n      return updateObject(state, {\n        meals: action.meals,\n        loading: false,\n        error: false,\n      });\n    case actionTypes.FETCH_MEALS_LOCAL:\n      let localMeals = JSON.parse(localStorage.getItem(\"meals\"));\n\n      if (localMeals === null) {\n        localMeals = initialMeals;\n        localStorage.setItem(\"meals\", JSON.stringify(localMeals));\n      }\n      return updateObject(state, {\n        meals: localMeals,\n        loading: false,\n        error: false,\n      });\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../../shared/utility';\n\nconst initialState = {\n    token: null,\n    userId: null,\n    error: null,\n    loading: false\n};\n\nconst authStart = (state, action) => {\n    return updateObject(state, {\n        error: null,\n        loading: true\n    })\n}\n\nconst authSuccess = (state, action) => {\n    return updateObject(state, {\n        token: action.token,\n        userId: action.userId,\n        error: null,\n        loading: false\n    });\n}\n\nconst authFail = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    });\n}\n\nconst authLogout = (state, action) => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('expirationTime');\n    localStorage.removeItem('userId');\n    return updateObject(state, {\n        token: null,\n        userId: null\n    });\n}\n\nconst setAuthRedirectPath = (state, action) => {\n    return updateObject(state, {\n        authRedirectPath: action.path\n    });\n}\n\nconst reducer = (state=initialState, action) => {\n    switch (action.type) {\n        case actionTypes.AUTH_START:\n            return authStart(state, action);\n        case actionTypes.AUTH_SUCCESS:\n            return authSuccess(state, action);\n        case actionTypes.AUTH_FAIL:\n            return authFail(state, action);\n        case actionTypes.AUTH_LOGOUT:\n            return authLogout(state, action);\n        case actionTypes.AUTH_SET_REDIRECT_PATH: \n            return setAuthRedirectPath(state, action);\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport './index.css';\nimport App from './App';\nimport thunk from 'redux-thunk';\n\nimport mealReducer from './store/reducers/meals';\nimport authReducer from './store/reducers/auth';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  meals: mealReducer,\n  auth: authReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nconst app = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    {app}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}